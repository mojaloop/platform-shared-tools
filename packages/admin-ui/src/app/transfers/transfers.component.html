<div class="row mb-2">
	<div class="col">
		<h3>Transfers</h3>
	</div>
	<!--<div class="col text-right">
		<button class="btn btn-warning" routerLink="/transfers/new">Create Test Transfer</button>
	</div>-->
</div>



<!--filter-->
<div class="filterbox">
	<form >
		<table class="table">
			<tr class="form-row">
				<div class="form-group col-md-1">
					<label for="filterState">State:</label>
					<select class="form-control" id="filterState">
						<option value="{{ALL_STR_ID}}">(All)</option>
						<option value="{{item}}" *ngFor="let item of (keywordState | async)">{{item}}</option>
					</select>
				</div>

				<div class="form-group col-md-1">
					<label for="filterCurrency">Currency:</label>
					<select class="form-control" id="filterCurrency">
						<option value="{{ALL_STR_ID}}">(All)</option>
						<option value="{{item}}" *ngFor="let item of (keywordCurrency | async)">{{item}}</option>
					</select>
				</div>

				<div class="form-group col-md-3">
					<label for="filterStartDate">Start date:</label>
					<input class="form-control" type="datetime-local" id="filterStartDate" step=300
						   [ngModel]="criteriaFromDate"
						   [ngModelOptions]="{standalone: true}">
				</div>


				<div class="form-group col-md-3">
					<label for="filterEndDate">End date:</label>
					<input class="form-control" type="datetime-local" id="filterEndDate" step=300>
				</div>

				<div class="form-group col-md-2">
					<label for="filterId">Id</label>
					<input class="form-control" type="text" id="filterId">
				</div>

				<div class="form-group col-md-2">
					<label for="filterBtn">&nbsp;</label>
					<button type="submit" class="form-control btn btn-primary" id="filterBtn" (click)="search()">Search &nbsp;&nbsp;<i class="bi bi-search"></i></button>
				</div>
			</tr>
		</table>
	</form>
</div>


<div>
	<table class="table">
		<thead class="thead-light">
		<tr>
			<th scope="col">Timestamp</th>
			<th scope="col">Transfer ID</th>
			<th scope="col">Payer FSP</th>
			<th scope="col">Payee FSP</th>
			<th scope="col">Transfer State</th>
			<th scope="col">Amount</th>
			<th scope="col">Currency</th>
		</tr>
		</thead>
		<tbody>
		<tr *ngFor="let item of (entries | async)">
			<td >{{item.updatedAt | date: 'medium'}}</td>
			<td><a routerLink="/transfers/{{item.transferId}}">{{item.transferId}}</a></td>
			<td><a routerLink="/participants/{{item.payerFspId}}">{{item.payerFspId}}</a></td>
			<td><a routerLink="/participants/{{item.payeeFspId}}">{{item.payeeFspId}}</a></td>

			<td *ngIf="item.transferState==='COMMITTED'" class="text-success">{{item.transferState}}</td>
			<td *ngIf="item.transferState==='RESERVED'" class="text-warning">{{item.transferState}}</td>
			<td *ngIf="item.transferState!=='RESERVED' && item.transferState!=='COMMITTED'" class="text-danger">{{item.transferState}}</td>

			<td>{{item.amount}}</td>
			<td>{{item.currencyCode}}</td>
		</tr>
		</tbody>
	</table>
</div>
